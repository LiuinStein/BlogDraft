### 0x00 基本概念

#### 0x00 定义及功能

计算机网络是一些**互联的、自治的**计算机系统的集合。从组成上看，由**硬件、软件、协议**三大部分组成，从工作方式上看，可以分为**边缘部分和核心部分**，从功能上看由**通信子网和资源子网**（基本组成）组成。

网络资源包括**硬件资源、软件资源与数据资源**。因特网采用的**核心技术即为TCP/IP**。

计算机网络的功能：

* 数据通信
* **资源共享**
* **分布式处理**
* **提高可靠性**
* 负载均衡

#### 0x01 分类

按分布范围分类：

* 广域网WAN，**交换技术**
* 城域网MAN，多采用**以太网技术**
* 局域网LAN，**广播技术**
* 个人区域网PAN

按传输技术分类：

* 广播式网络：所有联网计算机都共享一个公共通信通道，故**不需要网络层**，也**不存在路由选择问题**。
* 点对点网络：每条物理线路连接一对计算机

按拓扑结构（主要取决于**通信子网**）：

* 星型网络：每个计算机用单独的线路与中央设备相连
* 总线型网络：**用单根传输线连接计算机**
* 环形网络：所有计算机设备连接成一个环
* 网状形网络

#### 0x02 性能指标

* 带宽
* 时延
  * 发送时延：将分组数据**推向链路**所需时间
  * 传播时延：**电磁波传播**所花费的时间
  * 处理时延：数据**在交换结点为存储转发**所花费的时间
  * 排队时延：在**路由器中排队等待处理**的时延
* 时延带宽积：传播时延乘以信道带宽
* 往返时延RTT：从发送端发送数据到收到来自接收端的确认总共历经的时延
* 吞吐量：单位时间内通过的数据量
* 速率

### 0x01 分层

#### 0x00 OSI七层

从上而下依次为：

| 层         | 传输单位PDU                         | 任务                                                         | 功能                                                         |
| ---------- | ----------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 应用层     | -                                   | 用户与网络的界面                                             | 比如HTTP, SMTP等                                             |
| 表示层     | -                                   | 处理两个系统中交换信息的表示方式                             | **数据压缩**、编码、加解密、**格式转换**                     |
| 会话层     | -                                   | 利用传输层提供**端到端的**服务                               | 建立、**管理**、**同步**、终止**进程间**的**会话**           |
| 传输层     | **报文段**（TCP)或用户数据报（UDP） | 主机中**两个进程之间**的通信，建立、维护和拆除**端对端链接** | **拥塞控制**、**流量控制**、差错控制、数据传输管理、**分组排序** |
| 网络层     | 数据报                              | 将数据单元**分组**从源端传输到目的端                         | **路由选择**、拥塞控制、**流量控制**、差错控制               |
| 数据链路层 | 帧                                  | 将网络层传下来的IP数据报组装成帧，**两个主机之间**           | 成帧、差错控制、**流量控制**、传输管理、**物理寻址**         |
| 物理层     | 比特                                | 透明地传输比特流                                             | 在物理媒体上为数据端设备传输原始比特流                       |

高三层为资源子网，低三层为通信子网。

点对点是主机之间的通信，端对端是主机进程之间的通信。**只有传输层及以上层的通信才能称之为端对端**。

计数的时候一般认为物理层是第一层，然后从下往上数依次递增。

集线器工作在物理层，交换机工作在数据链路层，路由器工作在网络层

#### 0x01 TCP/IP四层

| 层         | 对应OSI | 功能      | 协议           |
| ---------- | ------- | --------- | -------------- |
| 应用层     | 上三层  | 用户-用户 | DNS, FTP, HTTP |
| 传输层     | 传输层  | 进程-进程 | TCP, UDP       |
| 网际层     | 网络层  | 主机-主机 | IPv4, IPv6     |
| 网络接口层 | 后两层  | -         | -              |

#### 0x02 比较

相同点：

* 都采用**分层体系结构**
* 都基于**独立的协议栈体系**
* 都可以**解决异构网络的互联**

不同点：

* OSI精确定义了**服务、接口和协议**，而TCP/IP没有明确的区分
* OSI在协议发明之前，没有偏向于任何协议，**通用性良好**，TCP/IP实际上是**对已有协议的描述**
* TCP/IP在设计之初就考虑到**多种异构网的互联**
* OSI在**网络层支持无连接和面向连接的通信**，但**在传输层仅有面向连接的通信**，TCP/IP认为可靠性是端到端的问题，因此**网际层仅有一种无连接的通信模式**，但是**传输层支持无连接和面向连接两种模式**


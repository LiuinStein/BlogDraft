#### 处理机管理的主要功能及其主要任务

处理机管理的主要功能是：进程管理、进程同步、进程通信和处理机调度

进程管理为作业创建进程，撤销已结束进程，控制进程在运行过程中的状态转换。

进程同步为多个进程（含线程）的运行进行协调。

进程通信主要用来实现在相互合作的进程之间的信息交换。

处理机调度又分为作业调度和进程调度。作业调度指从后备队里按照一定的算法，选出若干个作业，为他们分配运行所需的资源。进程调度指的是从进程的就绪队列中，按照一定算法选出一个进程，把处理机分配给它，并设置运行现场，使进程投入执行。

#### 内存管理的主要功能及其主要任务

内存管理的主要功能有：内存分配、内存保护、地址映射和内存扩充。

内存分配用来为每道程序分配内存。

内存保护用来确保每道用户程序都只在自己的内存空间运行，彼此互不干扰。

地址映射将地址空间的逻辑地址转换为内存空间与对应的物理地址。

内存扩充用于实现请求调用功能，置换功能等。

#### 设备管理的主要功能及其主要任务

主要功能有：缓冲管理、设备分配和设备处理以及虚拟设备等。

主要任务: 完成用户提出的I/O请求，为用户分配I/O设备。提高CPU和I/O设

备的利用率，提高I/O速度；以及方便用户使用I/O设备。

#### 文件管理的主要功能及其主要任务

主要功能有文件存储空间的管理、目录管理、文件的读/写管理和保护。

主要任务为管理用户文件和系统文件，方便用户使用，保证文件安全性。

#### 为什么要在OS中引入线程

在操作系统中引入线程，是为了减少程序在并发执行时所付出的时空开销，使OS具有更好的并发性，提高CPU的利用率。进程是分配资源的基本单位，而线程则是系统调度的基本单位。

#### 进程和线程之间的比较

调度性：线程在OS中作为调度和分派的基本单位，进程只作为资源拥有的基本单位

并发性：进程可以并发执行，一个进程的多个线程也可并发执行

拥有资源：进程始终是拥有资源的基本单位，**线程只拥有运行时必不可少的资源**，本身基本不拥有系统资源，但可以访问隶属进程的资源

系统开销：操作系统在创建、撤消和切换进程时付出的开销显著大于线程

#### 何谓死锁？产生死锁的原因和必要条件是什么

死锁是指多个进程在运行过程中因争夺资源而造成的一种僵局，当进程处于这种僵持状态时，若无外力作用，它们都将无法再向前推进。

产生死锁的原因为竞争资源和进程间推进顺序非法。其必要条件是：互斥条件、请求和保持条件、不剥夺条件、环路等待条件。

#### 解决死锁问题的几个方法中，哪种方法最易于实现？哪种方法使资源利用率最高？

解决死锁的四种方法即预防、避免、检测和解除死锁中，**预防死锁最容易实现**，**避免死锁使资源的利用率最高**

#### 对索引文件和索引顺序文件的检索方法

索引文件的检索：首先根据用户提供的关键字，利用折半查找法检索索引表，找到相应表项；再利用给出的指向记录指针值，访问对应记录。

索引顺序文件的检索：首先利用用户提供的关键字及查找方法，检索索引表，找到该记录在记录组中的第一条记录表项，得到第一个记录在主文件中的位置，再利用顺序查找法查找主文件，找到所要求的记录。

#### 什么是索引文件？为什么要引入多级索引？

索引文件是指**当记录为可变长度时**，通常为之建立一张索引表，并为每个记录设置一个表项构成的文件。通常将索引非顺序文件简称为索引文件。索引是为了是用户的访问速度更快，**多级索引结构可以有效的管理索引文件**，可根据用户的访问情况多级处理。

#### Hash检索法有何优点？又有何局限性以及如何解决冲突问题

Hash检索法是系统把用户提供的文件名变换为文件目录的索引值，再利用该值查找目录，有效提高目录的检索速度，但**Hash检索法局限于非通配符文件名**。

在Hash法查找目录时，如果目录表中相应目录项为空，表示系统中无指定文件。如果文件名与指定文件名匹配，表示找到了目标文件，也就找到了文件的物理地址。如果目录表中找到的相应文件名不匹配，则发生了冲突，需要Hash转换形成新的索引值，返回第一步重新查找。

#### DMA的工作流程
当CPU要从I/O设备读入数据块时，先向控制器发送一条读命令。该命令被送到命令寄存器CR中，同时还发送本次要读入数据的内存起始目标地址，送入内存地址寄存器MAR，本次要读数据的字节数送入数据计数器DC，将磁盘中的源地址直接送DMA控制器的I/O控制逻辑上。然后启动DMA 控制器传送数据，以后CPU便处理其它任务。**整个数据传送过程由DMA控制器控制**。

#### 文件实现的几种方式

* 连续分配（类比于数组）
  * 每个文件占有一组连续独立的块
  * 访问磁盘时寻道数和寻道时间最少
  * 目录条目包括文件的起始地址和文件长度
  * 反复增删会诱发外部碎片
  * 文件增长上可能需要大量移动盘块，因此只适用于固定大小的文件
  * FCB中保存两项
    * 文件起始地址
    * 长度
* 链接分配（类比于单链表）
  * 采用离散分配
  * 消除了外部碎片
  * 无需事先知道文件的大小
  * 分为隐式链接分配和显示链接分配
    * 隐式链接
      * 每个文件对应一个磁盘块链表
      * 每一个盘块都有指向下一个盘块的指针
      * 这些指针对用户是透明的
      * 无法直接访问盘块只能通过指针顺序访问盘块
      * FCB中设置两项
        * 首块物理块块号
        * 最后一个物理块块号
    * 显示链接
      * 把用于链接文件的各物理块的指针显式地存放在内存的一张链接表中
      * 每个表中存放链接指针及下一个盘块号
* 索引分配
  * 将每个文件的所有的盘块号都集中放在一起构成索引块
  * 支持直接访问
  * 没有外部碎片的问题
  * 但是增加了系统存储空间的开销